{"version":3,"sources":["logo.svg","module/ClaimDiCoin.js","pages/Public.js","pages/MainPage.js","pages/ExchangeTokenPage.js","pages/SearchCarCrashPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","ClaimDiCoin","contract","balanceOf","account","methods","call","buyToken","amount","address","send","value","from","gas","getAccount","web3","eth","getAccounts","then","accounts","getBalanceInEth","getAccidentHistory","searchValue","getAccidentHistoryById","id","addAccidentHistory","carRegis","carChassic","accidentDetail","accidentDate","accidentPlace","policyNumber","policyClaimNumber","Loading","props","className","style","display","loading","console","log","color","Public","component","rest","render","flex","backgroundColor","alignItems","justifyContent","flexDirection","to","src","width","fontSize","totalCDT","toString","replace","marginTop","React","createElement","MainPage","height","borderTop","paddingTop","Component","ExchangeTokenPage","state","totalExchange","totalETH","readyToExchange","handleTotalExchange","event","setState","target","parseInt","bind","handleBuyClaimDiTokenClick","e","this","handleBuyClaimDiToken","textAlign","borderRadius","type","onChange","disabled","onClick","CarAccidentItem","item","padding","margin","border","paddingLeft","SearchCarCrashPage","handleSearchValue","handleSearchClick","a","handleGetAccidentHistory","response","map","policyClaimNumer","borderBottom","overflow","key","Routes","exact","path","App","alert","show","title","text","handleLoading","drizzleState","drizzle","claimDiCoin","contracts","res","handleTotalCDT","unsubscribe","store","subscribe","getState","drizzleStatus","initialized","initState","currentProvider","publicConfigStore","on","checkAccount","isLoading","setTimeout","events","GetAccidentHistory","returnValues","accidentHistory","accident","length","promises","i","push","Promise","all","onConfirm","Boolean","window","location","hostname","match","options","drizzleStore","generateStore","Drizzle","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"+IAAAA,EAAOC,QAAU,IAA0B,kC,uRCoD5BC,G,cApDK,SAAAC,GAClB,MAAO,CACLC,UAAW,SAAAC,GACT,OAAOF,EAASG,QAAQF,UAAUC,GAASE,QAE7CC,SAAU,SAACC,EAAQC,GACjB,OAAOP,EAASG,QAAQE,SAASC,GAAQE,KAAK,CAC5CC,MAAgB,KAATH,EACPI,KAAMH,EACNI,IAAK,OAGTC,WAAY,WACV,OAAOZ,EAASa,KAAKC,IAAIC,cAAcC,MAAK,SAAAC,GAAQ,OAAIA,EAAS,OAEnEC,gBAAiB,SAAAhB,GACf,OAAOF,EAASG,QAAQe,gBAAgBhB,GAASE,QAEnDe,mBAAoB,SAAAC,GAClB,OAAOpB,EAASG,QACbgB,mBAAmBC,GACnBZ,KAAK,CAAEG,IAAK,OAEjBU,uBAAwB,SAAAC,GACtB,OAAOtB,EAASG,QAAQkB,uBAAuBC,GAAIlB,QAErDmB,mBAAoB,SAClBC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,OAAO9B,EAASG,QACboB,mBACCC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEDtB,KAAK,CACJG,IAAK,U,iCC1CToB,EAAU,SAAAC,GACd,OACE,yBACEC,UAAU,aACVC,MAAO,CAAEC,QAASH,EAAMI,QAAU,QAAU,SAE3C,IACAC,QAAQC,IAAI,gBAAiBN,GAC9B,yBAAKC,UAAU,kBACb,kBAAC,IAAD,CAAyBM,MAAO,SAAUH,QAASJ,EAAMI,aAUjE,IA6CeI,EA7CA,SAAC,GAAD,IAAGC,EAAH,EAAGA,UAAcC,EAAjB,oCACb,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,SAAAX,GAEN,OADAK,QAAQC,IAAI,eAAgBN,GAE1B,yBAAKC,UAAU,OACb,kBAAC,EAAYS,GACb,yBAAKT,UAAU,WACb,yBACEA,UAAU,UACVC,MAAO,CAAEU,KAAM,EAAGC,gBAAiB,aAErC,yBAAKZ,UAAU,UAAUC,MAAO,CAAEU,KAAM,MACxC,yBAAKX,UAAU,WACb,yBACEC,MAAO,CACLU,KAAM,EACNE,WAAY,SACZC,eAAgB,SAChBZ,QAAS,OACTa,cAAe,QAGjB,yBAAKd,MAAO,CAAEU,KAAM,IAClB,kBAAC,IAAD,CAAMK,GAAG,KACP,yBAAKC,IAAI,mBAAmBC,MAAM,SAGtC,yBAAKjB,MAAO,CAAEU,KAAM,IAClB,yBAAKV,MAAO,CAAEkB,SAAU,UAAxB,YACW,2BAAiBV,EAAKW,SAlCtCC,WAAWC,QAAQ,0BAA2B,QAiCzC,QAGA,yBAAKrB,MAAO,CAACsB,UAAW,SAAxB,yBAILC,IAAMC,cAAcjB,EAAWC,UCoE7BiB,E,iLA3HX,OACE,yBAAK1B,UAAU,oBACb,yBAAKA,UAAU,QACb,kBAAC,IAAD,CAAMgB,GAAG,kBACP,yBACEf,MAAO,CACLiB,MAAO,OACPS,OAAQ,OACRzB,QAAS,OACTa,cAAe,WAGjB,yBAAKd,MAAO,CAAEU,KAAM,KAClB,yBACEM,IAAI,uBACJhB,MAAO,CAAEsB,UAAW,IACpBL,MAAO,OAGX,yBACEjB,MAAO,CACLU,KAAM,EACNiB,UAAW,oBACXC,WAAY,QAJhB,eAYN,yBAAK7B,UAAU,QACb,kBAAC,IAAD,CAAMgB,GAAG,mBACP,yBACEf,MAAO,CACLiB,MAAO,OACPS,OAAQ,OACRzB,QAAS,OACTa,cAAe,WAGjB,yBAAKd,MAAO,CAAEU,KAAM,KAClB,yBACEM,IAAI,uBACJhB,MAAO,CAAEsB,UAAW,IACpBL,MAAO,OAGX,yBACEjB,MAAO,CACLU,KAAM,EACNiB,UAAW,oBACXC,WAAY,QAJhB,aAYN,yBAAK7B,UAAU,QACb,kBAAC,IAAD,CAAMgB,GAAG,mBACP,yBACEf,MAAO,CACLiB,MAAO,OACPS,OAAQ,OACRzB,QAAS,OACTa,cAAe,WAGjB,yBAAKd,MAAO,CAAEU,KAAM,KAClB,yBACEM,IAAI,sBACJhB,MAAO,CAAEsB,UAAW,IACpBL,MAAO,OAGX,yBACEjB,MAAO,CACLU,KAAM,EACNiB,UAAW,oBACXC,WAAY,QAJhB,cAYN,yBAAK7B,UAAU,QACb,kBAAC,IAAD,CAAMgB,GAAG,mBACP,yBACEf,MAAO,CACLiB,MAAO,OACPS,OAAQ,OACRzB,QAAS,OACTa,cAAe,WAGjB,yBAAKd,MAAO,CAAEU,KAAM,KAClB,yBACEM,IAAI,qBACJhB,MAAO,CAAEsB,UAAW,IACpBL,MAAO,OAGX,yBACEjB,MAAO,CACLU,KAAM,EACNiB,UAAW,oBACXC,WAAY,QAJhB,kB,GA5GSL,IAAMM,WCyGdC,E,YAnGb,WAAYhC,GAAQ,IAAD,8BACjB,4CAAMA,KAPRiC,MAAQ,CACNC,cAAe,GACfC,SAAU,GACVC,iBAAiB,GAGA,EAWnBC,oBAAsB,SAAAC,GACpB,EAAKC,SAAS,CACZL,cAAeI,EAAME,OAAO/D,MAC5B0D,SACyB,KAAvBG,EAAME,OAAO/D,MACsB,IAA/BgE,SAASH,EAAME,OAAO/D,OACtB,GACN2D,gBAAiBE,EAAME,OAAO/D,MAAQ,KAhBxC,EAAK4D,oBAAsB,EAAKA,oBAAoBK,KAAzB,gBAC3B,EAAKC,2BAA6B,EAAKA,2BAA2BD,KAAhC,gBAGlCrC,QAAQC,IAAI,oBAAqBN,GANhB,E,8KAsBc4C,G,8EAC3BV,EAAgBW,KAAKZ,MAAMC,c,SACVW,KAAK7C,MAAM8C,sBAAsBZ,G,eAEpDW,KAAKN,SAAS,CACZL,cAAe,GACfC,SAAU,GACVC,iBAAiB,I,sIAMrB,OACE,yBAAKnC,UAAU,oBACb,yBACEA,UAAU,MACVC,MAAO,CAAE6C,UAAW,OAAQC,aAAc,SAE1C,yBAAK/C,UAAU,0BACb,wBAAIA,UAAU,kCAAd,mBAEF,yBAAKA,UAAU,YACb,yBAAKA,UAAU,cACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,eACb,2BACEgD,KAAK,OACLhD,UAAU,eACVxB,MAAOoE,KAAKZ,MAAMC,cAClBgB,SAAUL,KAAKR,sBAEjB,0BAAMpC,UAAU,qBAAhB,SAGJ,yBACEA,UAAU,WACVC,MAAO,CAAE6C,UAAW,SAAUjB,WAAY,QAE1C,uBAAG7B,UAAU,0BAEf,yBAAKA,UAAU,YACb,yBAAKA,UAAU,eACb,2BACEgD,KAAK,OACLhD,UAAU,eACVkD,UAAQ,EACR1E,MAAOoE,KAAKZ,MAAME,WAEpB,0BAAMlC,UAAU,qBAAhB,WAKR,yBAAKA,UAAU,cACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,aACf,yBAAKA,UAAU,YACb,4BACEA,UAAU,4BACVkD,UAAWN,KAAKZ,MAAMG,gBACtBgB,QAASP,KAAKF,4BAHhB,aAQF,yBAAK1C,UAAU,sB,GAhGCwB,IAAMM,WCAhCsB,EAAkB,SAAAC,GAEtB,OADAjD,QAAQC,IAAI,OAAQgD,EAAK9D,UAEvB,yBACEU,MAAO,CACLW,gBAAiB,UACjB0C,QAAS,MACTC,OAAQ,OACRR,aAAc,MACdS,OAAQ,sBAGV,yBAAKvD,MAAO,CAAEC,QAAS,SACrB,yBAAKD,MAAO,CAAEU,KAAM,IAClB,yBACEV,MAAO,CACL6C,UAAW,SACXlC,gBAAiB,QACjB0C,QAAS,MACTC,OAAQ,MACRR,aAAc,MACdS,OAAQ,uBAGTH,EAAK9D,WAGV,yBAAKU,MAAO,CAAEU,KAAM,IAClB,6BACE,2BAAOV,MAAO,CAAEiB,MAAO,QAAvB,0DADF,IACqD,KAClDmC,EAAK7D,YAER,6BACE,2BAAOS,MAAO,CAAEiB,MAAO,QAAvB,wFADF,IAC0D,KACvDmC,EAAK3D,gBAIZ,yBAAKO,MAAO,CAAEwD,YAAa,SACzB,yIADF,MACsCJ,EAAK5D,kBA4GlCiE,E,YApFb,WAAY3D,GAAQ,IAAD,8BACjB,4CAAMA,KAlBRiC,MAAQ,CACN7C,YAAa,GACbM,eAAgB,IAeC,EAOnBkE,kBAAoB,SAAAtB,GAClB,EAAKC,SAAS,CACZnD,YAAakD,EAAME,OAAO/D,SATX,EAanBoF,kBAbmB,uCAaC,WAAMvB,GAAN,mBAAAwB,EAAA,6DACd1E,EAAc,EAAK6C,MAAM7C,YADX,SAEG,EAAKY,MAAM+D,yBAAyB3E,GAFvC,OAEd4E,EAFc,OAIdtE,EAAiBsE,EAASC,KAAI,SAAAX,GAChC,MAAO,CACLhE,GAAIgE,EAAK,GACT9D,SAAU8D,EAAK,GACf7D,WAAY6D,EAAK,GACjB5D,eAAgB4D,EAAK,GACrB3D,aAAc2D,EAAK,GACnB1D,cAAe0D,EAAK,GACpBzD,aAAcyD,EAAK,GACnBY,iBAAkBZ,EAAK,OAI3B,EAAKf,SAAS,CACZ7C,eAAgBA,IAlBA,2CAbD,sDAEjB,EAAKkE,kBAAoB,EAAKA,kBAAkBlB,KAAvB,gBACzB,EAAKmB,kBAAoB,EAAKA,kBAAkBnB,KAAvB,gBACzBrC,QAAQC,IAAI,qBAAsBN,GAJjB,E,sEAoCjB,OACE,yBAAKC,UAAU,oBACb,yBACEA,UAAU,MACVC,MAAO,CAAE0B,OAAQ,OAAQmB,UAAW,OAAQC,aAAc,SAE1D,yBAAK/C,UAAU,0BACb,wBAAIA,UAAU,kCAAd,qBAEF,yBACEA,UAAU,WACVC,MAAO,CAAEiE,aAAc,sBAEvB,yBAAKlE,UAAU,cACb,yBAAKA,UAAU,YACb,wDACA,yBAAKA,UAAU,eACb,2BACEgD,KAAK,OACLhD,UAAU,eACVxB,MAAOoE,KAAKZ,MAAM7C,YAClB8D,SAAUL,KAAKe,oBAEjB,yBAAK3D,UAAU,mBACb,4BACEgD,KAAK,SACLhD,UAAU,kBACVmD,QAASP,KAAKgB,mBAEd,uBAAG5D,UAAU,uBAQzB,yBAAKA,UAAU,WAAWC,MAAO,CAAE0B,OAAQ,MAAOwC,SAAU,SACzDvB,KAAKZ,MAAMvC,eAAeuE,KAAI,SAAAX,GAAI,OACjC,kBAAC,EAAD,eAAiBe,IAAKf,EAAKhE,IAAQgE,c,GA7FhB7B,IAAMM,WClCjCuC,EAAS,SAAAtE,GAAK,OAClB,kBAAC,IAAD,KACE,6BACE,kBAAC,IAAD,KACE,kBAAC,EAAD,eAAQuE,OAAK,EAACC,KAAK,IAAI/D,UAAWkB,GAAc3B,IAChD,kBAAC,EAAD,eACEuE,OAAK,EACLC,KAAK,iBACL/D,UAAWuB,GACPhC,IAEN,kBAAC,EAAD,eACEuE,OAAK,EACLC,KAAK,kBACL/D,UAAWkD,GACP3D,QAuVCyE,E,YAtUb,WAAYzE,GAAQ,IAAD,8BACjB,4CAAMA,KAXRiC,MAAQ,CACN7B,SAAS,EACTiB,SAAU,EACVqD,MAAO,CACLC,MAAM,EACNC,MAAO,GACPC,KAAM,KAMR,EAAKC,cAAgB,EAAKA,cAAcpC,KAAnB,gBACrB,EAAKI,sBAAwB,EAAKA,sBAAsBJ,KAA3B,gBAC7B,EAAKqB,yBAA2B,EAAKA,yBAAyBrB,KAA9B,gBAJf,E,gHAOHqC,G,8EACNC,EAAYnC,KAAK7C,MAAjBgF,QACRnC,KAAKoC,YAAclH,EAAYiH,EAAQE,UAAUnH,a,SAC5B8E,KAAKoC,YAAYrG,aAAaI,MAAK,SAAAmG,GAAG,OAAIA,K,OAA/DtC,KAAK3E,Q,OACL2E,KAAKuC,iBACLvC,KAAKN,SAAS,CAAEnC,SAAS,EAAO2E,iB,iJAGb,IAAD,OACVC,EAAYnC,KAAK7C,MAAjBgF,QACRnC,KAAKwC,YAAcL,EAAQM,MAAMC,WAAU,WACzC,IAAMR,EAAeC,EAAQM,MAAME,WAE/BT,EAAaU,cAAcC,cAC7B,EAAKnD,SAAS,CAAEnC,SAAS,EAAO2E,iBAChC,EAAKY,UAAUZ,GAEfC,EAAQnG,KAAK+G,gBAAgBC,kBAAkBC,GAC7C,SADF,sBAEE,8BAAAhC,EAAA,6DACMiC,EAAe,EAAK7H,QAD1B,SAGsB,EAAK+G,YAAYrG,aAAaI,MAAK,SAAAmG,GAAG,OAAIA,KAHhE,OAGMjH,EAHN,OAIM6H,IAAiB7H,GACnB,EAAKyH,UAAUZ,GALnB,kD,6CAaNlC,KAAKwC,cACLxC,KAAKiC,eAAc,K,oCAGPkB,GACZnD,KAAKN,SAAS,CAAEnC,QAAS4F,M,8JAIzB3F,QAAQC,IAAI,U,SACSuC,KAAKoC,YAAYhH,UAAU4E,KAAK3E,S,OAAjDmD,E,OACJwB,KAAKN,SAAS,CACZlB,SAAUA,I,2LAIca,G,yFACtB5D,EAAS4D,E,SACOW,KAAKoC,YAAYrG,aAAaI,MAAK,SAAAmG,GAAG,OAAIA,K,cAA1DjH,E,OACJ2E,KAAKiC,eAAc,G,SACEjC,KAAKoC,YAAY5G,SAASC,EAAQJ,G,cAAnD8F,E,OACJ3D,QAAQC,IAAI,wBAAyB0D,GAErCiC,YAAW,WACT,EAAK1D,SAAS,CACZnC,SAAS,EACTsE,MAAO,CACLC,MAAM,EACNC,MAAO,WACPC,KAAM,8BAGT,K,mBAEI,G,gMAGsBzF,G,sFAC7ByD,KAAKiC,eAAc,G,SACEjC,KAAKoC,YAAY9F,mBAAmBC,G,UAArD4E,E,OAESA,EAASkC,OAAOC,mBAAmBC,aAAa,GACzDC,EAAkBrC,EAASkC,OAAOC,mBAAmBC,aAAa,GAElEE,EAAW,KACXD,EAAgBE,OAAS,G,iBAE3B,IADIC,EAAW,GACNC,EAAI,EAAGA,EAAIJ,EAAgBE,OAAQE,IAC1CD,EAASE,KACP7D,KAAKoC,YAAY5F,uBAAuBgH,EAAgBI,K,iBAG3CE,QAAQC,IAAIJ,G,QAA7BF,E,wCAEKA,G,uIAGC,IAAD,OACP,OACE,6BACE,kBAAC,IAAD,CACE3B,KAAM9B,KAAKZ,MAAMyC,MAAMC,KACvBC,MAAO/B,KAAKZ,MAAMyC,MAAME,MACxBC,KAAMhC,KAAKZ,MAAMyC,MAAMG,KACvBgC,UAAW,kBACT,EAAKtE,SAAS,CACZmC,MAAO,CACLC,MAAM,QAKd,kBAAC,EAAD,iBACM9B,KAAKZ,MACLY,KAAK7C,MAFX,CAGE8E,cAAejC,KAAKiC,cACpBM,eAAgBvC,KAAKuC,eACrBtC,sBAAuBD,KAAKC,sBAC5BiB,yBAA0BlB,KAAKkB,iC,GAhIvBtC,IAAMM,WCtBJ+E,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,oBCVN7G,QAAQC,IAAI,cAAevC,GAE3B,IAAMoJ,EAAU,CACdjC,UAAW,CAACnH,IAGRqJ,EAAeC,wBAAcF,GAC7BnC,EAAU,IAAIsC,UAAQH,EAASC,GAErCG,IAAS5G,OAAO,kBAAC,EAAD,CAAKqE,QAASA,IAAawC,SAASC,eAAe,SDgH7D,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM5I,MAAK,SAAA6I,GACjCA,EAAaC,iB","file":"static/js/main.267cf1fd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";","const ClaimDiCoin = contract => {\r\n  return {\r\n    balanceOf: account => {\r\n      return contract.methods.balanceOf(account).call();\r\n    },\r\n    buyToken: (amount, address) => {\r\n      return contract.methods.buyToken(amount).send({\r\n        value: amount * 10000000000000000,\r\n        from: address,\r\n        gas: 3000000\r\n      });\r\n    },\r\n    getAccount: () => {\r\n      return contract.web3.eth.getAccounts().then(accounts => accounts[0]);\r\n    },\r\n    getBalanceInEth: account => {\r\n      return contract.methods.getBalanceInEth(account).call();\r\n    },\r\n    getAccidentHistory: searchValue => {\r\n      return contract.methods\r\n        .getAccidentHistory(searchValue)\r\n        .send({ gas: 3000000 });\r\n    },\r\n    getAccidentHistoryById: id => {\r\n      return contract.methods.getAccidentHistoryById(id).call();\r\n    },\r\n    addAccidentHistory: (\r\n      carRegis,\r\n      carChassic,\r\n      accidentDetail,\r\n      accidentDate,\r\n      accidentPlace,\r\n      policyNumber,\r\n      policyClaimNumber\r\n    ) => {\r\n      return contract.methods\r\n        .addAccidentHistory(\r\n          carRegis,\r\n          carChassic,\r\n          accidentDetail,\r\n          accidentDate,\r\n          accidentPlace,\r\n          policyNumber,\r\n          policyClaimNumber\r\n        )\r\n        .send({\r\n          gas: 3000000\r\n        });\r\n    }\r\n  };\r\n};\r\n\r\nexport default ClaimDiCoin;\r\n","import React from \"react\";\r\nimport { Link, Route } from \"react-router-dom\";\r\nimport { BallScaleRippleMultiple } from \"react-pure-loaders\";\r\n\r\nconst Loading = props => {\r\n  return (\r\n    <div\r\n      className=\"AppLoading\"\r\n      style={{ display: props.loading ? \"block\" : \"none\" }}\r\n    >\r\n      {\" \"}\r\n      {console.log(\"Loading props\", props)}\r\n      <div className=\"AppLoadingIcon\">\r\n        <BallScaleRippleMultiple color={\"yellow\"} loading={props.loading} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction formatNumber(num) {\r\n  return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\");\r\n}\r\n\r\nconst Public = ({ component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props => {\r\n      console.log(\"public props\", props);\r\n      return (\r\n        <div className=\"App\">\r\n          <Loading {...rest} />\r\n          <div className=\"AppBody\">\r\n            <div\r\n              className=\"boxBody\"\r\n              style={{ flex: 2, backgroundColor: \"#85C1E9\" }}\r\n            ></div>\r\n            <div className=\"boxBody\" style={{ flex: 10 }}></div>\r\n            <div className=\"boxOver\">\r\n              <div\r\n                style={{\r\n                  flex: 8,\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\"\r\n                }}\r\n              >\r\n                <div style={{ flex: 4 }}>\r\n                  <Link to=\"/\">\r\n                    <img src=\"/images/coin.png\" width=\"90\" />\r\n                  </Link>\r\n                </div>\r\n                <div style={{ flex: 8 }}>\r\n                  <div style={{ fontSize: \"1.4em\" }}>\r\n                    You have <b>{formatNumber(rest.totalCDT)}</b> CLM\r\n                  </div>\r\n                  <div style={{marginTop: '10px'}}>(1 CLM = 0.01 ETH)</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {React.createElement(component, rest)}\r\n          </div>\r\n        </div>\r\n      );\r\n    }}\r\n  />\r\n);\r\n\r\nexport default Public;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass MainPage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"boxContainerMenu\">\r\n        <div className=\"menu\">\r\n          <Link to=\"/ExchangeToken\">\r\n            <div\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                display: \"flex\",\r\n                flexDirection: \"column\"\r\n              }}\r\n            >\r\n              <div style={{ flex: 10 }}>\r\n                <img\r\n                  src=\"/images/buyToken.png\"\r\n                  style={{ marginTop: 10 }}\r\n                  width={100}\r\n                />\r\n              </div>\r\n              <div\r\n                style={{\r\n                  flex: 2,\r\n                  borderTop: \"solid 2px #d5dbdb\",\r\n                  paddingTop: \"5px\"\r\n                }}\r\n              >\r\n                Exchange\r\n              </div>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n        <div className=\"menu\">\r\n          <Link to=\"/SearchCarCrash\">\r\n            <div\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                display: \"flex\",\r\n                flexDirection: \"column\"\r\n              }}\r\n            >\r\n              <div style={{ flex: 10 }}>\r\n                <img\r\n                  src=\"/images/carCrash.png\"\r\n                  style={{ marginTop: 10 }}\r\n                  width={100}\r\n                />\r\n              </div>\r\n              <div\r\n                style={{\r\n                  flex: 2,\r\n                  borderTop: \"solid 2px #d5dbdb\",\r\n                  paddingTop: \"5px\"\r\n                }}\r\n              >\r\n                Search\r\n              </div>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n        <div className=\"menu\">\r\n          <Link to=\"/SearchCarCrash\">\r\n            <div\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                display: \"flex\",\r\n                flexDirection: \"column\"\r\n              }}\r\n            >\r\n              <div style={{ flex: 10 }}>\r\n                <img\r\n                  src=\"/images/bidding.png\"\r\n                  style={{ marginTop: 10 }}\r\n                  width={100}\r\n                />\r\n              </div>\r\n              <div\r\n                style={{\r\n                  flex: 2,\r\n                  borderTop: \"solid 2px #d5dbdb\",\r\n                  paddingTop: \"5px\"\r\n                }}\r\n              >\r\n                Auction\r\n              </div>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n        <div className=\"menu\">\r\n          <Link to=\"/SearchCarCrash\">\r\n            <div\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                display: \"flex\",\r\n                flexDirection: \"column\"\r\n              }}\r\n            >\r\n              <div style={{ flex: 10 }}>\r\n                <img\r\n                  src=\"/images/garage.png\"\r\n                  style={{ marginTop: 10 }}\r\n                  width={100}\r\n                />\r\n              </div>\r\n              <div\r\n                style={{\r\n                  flex: 2,\r\n                  borderTop: \"solid 2px #d5dbdb\",\r\n                  paddingTop: \"5px\"\r\n                }}\r\n              >\r\n                Garage\r\n              </div>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MainPage;\r\n","import React from \"react\";\r\n\r\nclass ExchangeTokenPage extends React.Component {\r\n  state = {\r\n    totalExchange: \"\",\r\n    totalETH: \"\",\r\n    readyToExchange: false\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleTotalExchange = this.handleTotalExchange.bind(this);\r\n    this.handleBuyClaimDiTokenClick = this.handleBuyClaimDiTokenClick.bind(\r\n      this\r\n    );\r\n    console.log(\"ExchangeTokenPage\", props);\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n  handleTotalExchange = event => {\r\n    this.setState({\r\n      totalExchange: event.target.value,\r\n      totalETH:\r\n        event.target.value !== \"\"\r\n          ? parseInt(event.target.value) * 0.01\r\n          : \"\",\r\n      readyToExchange: event.target.value > 0\r\n    });\r\n  };\r\n\r\n  async handleBuyClaimDiTokenClick(e) {\r\n    let totalExchange = this.state.totalExchange;\r\n    let response = await this.props.handleBuyClaimDiToken(totalExchange);\r\n    if (response) {\r\n      this.setState({\r\n        totalExchange: \"\",\r\n        totalETH: \"\",\r\n        readyToExchange: false\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"boxContainerMenu\">\r\n        <div\r\n          className=\"box\"\r\n          style={{ textAlign: \"left\", borderRadius: \"10px\" }}\r\n        >\r\n          <div className=\"box-header with-border\">\r\n            <h3 className=\"box-title col-md-12 no-padding\">Exchange Token</h3>\r\n          </div>\r\n          <div className=\"box-body\">\r\n            <div className=\"form-group\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-5\">\r\n                  <div className=\"input-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      value={this.state.totalExchange}\r\n                      onChange={this.handleTotalExchange}\r\n                    />\r\n                    <span className=\"input-group-addon\">CDT</span>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  className=\"col-md-2\"\r\n                  style={{ textAlign: \"center\", paddingTop: \"5px\" }}\r\n                >\r\n                  <i className=\"fa fa-fw fa-exchange\"></i>\r\n                </div>\r\n                <div className=\"col-md-5\">\r\n                  <div className=\"input-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      disabled\r\n                      value={this.state.totalETH}\r\n                    />\r\n                    <span className=\"input-group-addon\">ETH</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-3\"></div>\r\n                <div className=\"col-md-5\">\r\n                  <button\r\n                    className=\"btn btn-block btn-primary\"\r\n                    disabled={!this.state.readyToExchange}\r\n                    onClick={this.handleBuyClaimDiTokenClick}\r\n                  >\r\n                    Exchange\r\n                  </button>\r\n                </div>\r\n                <div className=\"col-md-3\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ExchangeTokenPage;\r\n","import React from \"react\";\r\n\r\nconst CarAccidentItem = item => {\r\n  console.log(\"item\", item.carRegis);\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#85C1E9\",\r\n        padding: \"5px\",\r\n        margin: \"10px\",\r\n        borderRadius: \"5px\",\r\n        border: \"solid 1px #d5dbdb\"\r\n      }}\r\n    >\r\n      <div style={{ display: \"flex\" }}>\r\n        <div style={{ flex: 4 }}>\r\n          <div\r\n            style={{\r\n              textAlign: \"center\",\r\n              backgroundColor: \"white\",\r\n              padding: \"5px\",\r\n              margin: \"5px\",\r\n              borderRadius: \"5px\",\r\n              border: \"dashed 1px #d5dbdb\"\r\n            }}\r\n          >\r\n            {item.carRegis}\r\n          </div>\r\n        </div>\r\n        <div style={{ flex: 8 }}>\r\n          <div>\r\n            <label style={{ width: \"40%\" }}>เลขตัวถัง</label>:{\"  \"}\r\n            {item.carChassic}\r\n          </div>\r\n          <div>\r\n            <label style={{ width: \"40%\" }}>วันที่เกิดเหตุ</label>:{\"  \"}\r\n            {item.accidentDate}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div style={{ paddingLeft: \"10px\" }}>\r\n        <label>ลักษณะการเกิดเหตุ</label> : {item.accidentDetail}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nclass SearchCarCrashPage extends React.Component {\r\n  state = {\r\n    searchValue: \"\",\r\n    accidentDetail: []\r\n    // accidentDetail: [\r\n    //   {\r\n    //     id: 1,\r\n    //     carRegis: \"carRegis\",\r\n    //     carChassic: \"carRegis\",\r\n    //     accidentDetail: \"carRegis\",\r\n    //     accidentDate: \"carRegis\",\r\n    //     accidentPlace: \"carRegis\",\r\n    //     policyNumber: \"carRegis\",\r\n    //     policyClaimNumer: \"carRegis\"\r\n    //   }\r\n    // ]\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleSearchValue = this.handleSearchValue.bind(this);\r\n    this.handleSearchClick = this.handleSearchClick.bind(this);\r\n    console.log(\"SearchCarCrashPage\", props);\r\n  }\r\n\r\n  handleSearchValue = event => {\r\n    this.setState({\r\n      searchValue: event.target.value\r\n    });\r\n  };\r\n\r\n  handleSearchClick = async event => {\r\n    let searchValue = this.state.searchValue;\r\n    let response = await this.props.handleGetAccidentHistory(searchValue);\r\n\r\n    let accidentDetail = response.map(item => {\r\n      return {\r\n        id: item[0],\r\n        carRegis: item[1],\r\n        carChassic: item[2],\r\n        accidentDetail: item[3],\r\n        accidentDate: item[4],\r\n        accidentPlace: item[5],\r\n        policyNumber: item[6],\r\n        policyClaimNumer: item[7]\r\n      };\r\n    });\r\n\r\n    this.setState({\r\n      accidentDetail: accidentDetail\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"boxContainerMenu\">\r\n        <div\r\n          className=\"box\"\r\n          style={{ height: \"100%\", textAlign: \"left\", borderRadius: \"10px\" }}\r\n        >\r\n          <div className=\"box-header with-border\">\r\n            <h3 className=\"box-title col-md-12 no-padding\">Search Car Crash</h3>\r\n          </div>\r\n          <div\r\n            className=\"box-body\"\r\n            style={{ borderBottom: \"1px solid #f4f4f4\" }}\r\n          >\r\n            <div className=\"form-group\">\r\n              <div className=\"col-sm-5\">\r\n                <label>CarRegis / CarChassic</label>\r\n                <div className=\"input-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    value={this.state.searchValue}\r\n                    onChange={this.handleSearchValue}\r\n                  />\r\n                  <div className=\"input-group-btn\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-default\"\r\n                      onClick={this.handleSearchClick}\r\n                    >\r\n                      <i className=\"fa fa-search\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"box-body\" style={{ height: \"65%\", overflow: \"auto\" }}>\r\n            {this.state.accidentDetail.map(item => (\r\n              <CarAccidentItem key={item.id} {...item} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchCarCrashPage;\r\n","import React from \"react\";\nimport SweetAlert from \"sweetalert2-react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport ClaimDiCoin from \"./module/ClaimDiCoin\";\nimport { BallScaleRippleMultiple } from \"react-pure-loaders\";\nimport { Switch, BrowserRouter as Router } from \"react-router-dom\";\n\nimport Public from \"./pages/Public\";\nimport MainPage from \"./pages/MainPage\";\nimport ExchangeTokenPage from \"./pages/ExchangeTokenPage\";\nimport SearchCarCrashPage from \"./pages/SearchCarCrashPage\";\n\nconst Routes = props => (\n  <Router>\n    <div>\n      <Switch>\n        <Public exact path=\"/\" component={MainPage} {...props} />\n        <Public\n          exact\n          path=\"/ExchangeToken\"\n          component={ExchangeTokenPage}\n          {...props}\n        />\n        <Public\n          exact\n          path=\"/SearchCarCrash\"\n          component={SearchCarCrashPage}\n          {...props}\n        />\n      </Switch>\n    </div>\n  </Router>\n);\nclass App extends React.Component {\n  state = {\n    loading: true,\n    totalCDT: 0,\n    alert: {\n      show: false,\n      title: \"\",\n      text: \"\"\n    }\n  };\n\n  constructor(props) {\n    super(props);\n    this.handleLoading = this.handleLoading.bind(this);\n    this.handleBuyClaimDiToken = this.handleBuyClaimDiToken.bind(this);\n    this.handleGetAccidentHistory = this.handleGetAccidentHistory.bind(this);\n  }\n\n  async initState(drizzleState) {\n    const { drizzle } = this.props;\n    this.claimDiCoin = ClaimDiCoin(drizzle.contracts.ClaimDiCoin);\n    this.account = await this.claimDiCoin.getAccount().then(res => res);\n    this.handleTotalCDT();\n    this.setState({ loading: false, drizzleState });\n  }\n\n  componentDidMount() {\n    const { drizzle } = this.props;\n    this.unsubscribe = drizzle.store.subscribe(() => {\n      const drizzleState = drizzle.store.getState();\n\n      if (drizzleState.drizzleStatus.initialized) {\n        this.setState({ loading: false, drizzleState });\n        this.initState(drizzleState);\n\n        drizzle.web3.currentProvider.publicConfigStore.on(\n          \"update\",\n          async () => {\n            let checkAccount = this.account;\n\n            let account = await this.claimDiCoin.getAccount().then(res => res);\n            if (checkAccount !== account) {\n              this.initState(drizzleState);\n            }\n          }\n        );\n      }\n    });\n  }\n  compomentWillUnmount() {\n    this.unsubscribe();\n    this.handleLoading(false);\n  }\n\n  handleLoading(isLoading) {\n    this.setState({ loading: isLoading });\n  }\n\n  async handleTotalCDT() {\n    console.log(\"handle\");\n    let totalCDT = await this.claimDiCoin.balanceOf(this.account);\n    this.setState({\n      totalCDT: totalCDT\n    });\n  }\n\n  async handleBuyClaimDiToken(totalExchange) {\n    let amount = totalExchange;\n    let account = await this.claimDiCoin.getAccount().then(res => res);\n    this.handleLoading(true);\n    let response = await this.claimDiCoin.buyToken(amount, account);\n    console.log(\"handleBuyClaimDiToken\", response);\n\n    setTimeout(() => {\n      this.setState({\n        loading: false,\n        alert: {\n          show: true,\n          title: \"Exchange\",\n          text: \"Exchange token success\"\n        }\n      });\n    }, 700);\n\n    return true;\n  }\n\n  async handleGetAccidentHistory(searchValue) {\n    this.handleLoading(true);\n    let response = await this.claimDiCoin.getAccidentHistory(searchValue);\n\n    let result = response.events.GetAccidentHistory.returnValues[0];\n    let accidentHistory = response.events.GetAccidentHistory.returnValues[1];\n\n    let accident = [];\n    if (accidentHistory.length > 0) {\n      let promises = [];\n      for (let i = 0; i < accidentHistory.length; i++) {\n        promises.push(\n          this.claimDiCoin.getAccidentHistoryById(accidentHistory[i])\n        );\n      }\n      accident = await Promise.all(promises);\n    }\n    return accident;\n  }\n\n  render() {\n    return (\n      <div>\n        <SweetAlert\n          show={this.state.alert.show}\n          title={this.state.alert.title}\n          text={this.state.alert.text}\n          onConfirm={() =>\n            this.setState({\n              alert: {\n                show: false\n              }\n            })\n          }\n        />\n        <Routes\n          {...this.state}\n          {...this.props}\n          handleLoading={this.handleLoading}\n          handleTotalCDT={this.handleTotalCDT}\n          handleBuyClaimDiToken={this.handleBuyClaimDiToken}\n          handleGetAccidentHistory={this.handleGetAccidentHistory}\n        />\n      </div>\n    );\n  }\n}\n// class App extends React.Component {\n//   state = {\n//     loading: true\n//   };\n\n//   constructor(props) {\n//     super(props);\n//     this.handleBuyClick = this.handleBuyClick.bind(this);\n//     this.handleGetClick = this.handleGetClick.bind(this);\n//     this.handleGetbBalanceOfClick = this.handleGetbBalanceOfClick.bind(this);\n//     this.handleBuyClaimDiTokenClick = this.handleBuyClaimDiTokenClick.bind(\n//       this\n//     );\n//   }\n\n//   handleBuyClick(e) {\n//     this.setState({ loading: true });\n//     this.claimDiCoin\n//       .addAccidentHistory(\n//         \"carRegis\",\n//         \"carChassic\",\n//         \"accidentDetail\",\n//         \"accidentDate\",\n//         \"accidentPlace\",\n//         \"policyNumber\",\n//         \"policyClaimNumber\"\n//       )\n//       .then(res => {\n//         this.setState({ loading: false });\n//         console.log(res);\n//       });\n//   }\n\n//   handleGetClick(e) {\n//     this.setState({ loading: true });\n//     this.claimDiCoin.getAccidentHistory(\"carRegis\").then(res => {\n//       this.setState({ loading: false });\n//       let eventValues = res.events.GetAccidentHistory.returnValues;\n//       console.log(\"eventValues[0]\", eventValues[0]);\n//       console.log(\"eventValues[1]\", eventValues[1]);\n//       if (eventValues[1].length > 0) {\n//         var promises = [];\n//         for (let i = 0; i < eventValues[1].length; i++) {\n//           promises.push(\n//             this.claimDiCoin.getAccidentHistoryById(eventValues[1][i])\n//           );\n//         }\n//         Promise.all(promises).then(values => {\n//           console.log(\"values\", values);\n//         });\n//       }\n//     });\n//   }\n\n//   async handleGetbBalanceOfClick(e) {\n//     let account = await this.claimDiCoin.getAccount().then(res => res);\n//     this.claimDiCoin\n//       .balanceOf(account)\n//       .then(res => console.log(\"balanceOf\", res));\n//   }\n\n//   async handleBuyClaimDiTokenClick(e) {\n//     let amount = 10;\n//     let account = await this.claimDiCoin.getAccount().then(res => res);\n//     this.claimDiCoin\n//       .buyToken(amount, account)\n//       .then(res => console.log(\"buyToken\", res));\n//   }\n\n//   async initState() {\n//     const { drizzle } = this.props;\n//     this.claimDiCoin = ClaimDiCoin(drizzle.contracts.ClaimDiCoin);\n//     this.account = await this.claimDiCoin.getAccount();\n//     console.log(\"acc\", this.account);\n//     // let account = await this.claimDiCoin.getAccount().then(res => res);\n//     // this.claimDiCoin\n//     //   .getBalanceInEth(account)\n//     //   .then(res => console.log(\"getBalanceInEth\", res));\n//   }\n\n//   componentDidMount() {\n//     const { drizzle } = this.props;\n\n//     this.unsubscribe = drizzle.store.subscribe(() => {\n//       const drizzleState = drizzle.store.getState();\n\n//       if (drizzleState.drizzleStatus.initialized) {\n//         this.setState({ loading: false, drizzleState });\n//         this.initState();\n//         drizzle.web3.currentProvider.publicConfigStore.on(\n//           \"update\",\n//           async () => {\n//             this.initState();\n\n//             let checkAccount = this.account;\n\n//             let account = await this.claimDiCoin.getAccount().then(res => res);\n//             if (checkAccount !== account) {\n//               this.initState();\n//             }\n//           }\n//         );\n//       }\n//     });\n//   }\n\n//   render() {\n//     return (\n//       <div className=\"App\">\n//         <div\n//           className=\"AppLoading\"\n//           style={{ display: this.state.loading ? \"block\" : \"none\" }}\n//         >\n//           <div className=\"AppLoadingIcon\">\n//             <BallScaleRippleMultiple\n//               color={\"yellow\"}\n//               loading={this.state.loading}\n//             />\n//           </div>\n//         </div>\n//         <div className=\"AppBody\">\n//           <div className=\"box\" style={{ flex: 2, backgroundColor: \"#85C1E9\" }}>\n//             AAAA\n//           </div>\n//           <div className=\"box\" style={{ flex: 10 }}></div>\n//           <div className=\"boxOver\">\n//             <div\n//               style={{\n//                 flex: 8,\n//                 alignItems: \"center\",\n//                 justifyContent: \"center\",\n//                 display: \"flex\",\n//                 flexDirection: \"row\"\n//               }}\n//             >\n//               <div style={{ flex: 4 }}>\n//                 <img src=\"/images/coin.png\" width=\"70\" />\n//               </div>\n//               <div style={{ flex: 8 }}></div>\n//             </div>\n//             <div style={{ flex: 4 }}></div>\n//           </div>\n//           <div className=\"boxContainerMenu\">\n//             <div className=\"menu\">\n//               <img src=\"/images/buyToken.png\" />\n//             </div>\n//             <div className=\"menu\">\n//               <img src=\"/images/carCrash.png\" width={80} />\n//             </div>\n//             <div className=\"menu\">\n//               <img src=\"/images/bidding.png\" style={{marginTop:10}} width={70} /></div>\n//             <div className=\"menu\">\n//               <img src=\"/images/garage.png\" style={{marginTop:10}} width={80} />\n//               </div>\n//           </div>\n//         </div>\n//         {/* <header className=\"App-header\">\n//           <img src={logo} className=\"App-logo\" alt=\"logo\" />\n//           <p>\n//             Edit <code>src/App.js</code> and save to reload.\n//           </p>\n//           <a\n//             className=\"App-link\"\n//             href=\"https://reactjs.org\"\n//             target=\"_blank\"\n//             rel=\"noopener noreferrer\"\n//           ></a>\n\n//           <button\n//             type=\"button\"\n//             className=\"btn btn-block btn-primary\"\n//             onClick={this.handleBuyClick}\n//           >\n//             Add\n//           </button>\n//           <button\n//             type=\"button\"\n//             className=\"btn btn-block btn-primary\"\n//             onClick={this.handleGetClick}\n//           >\n//             Get\n//           </button>\n//           <button\n//             type=\"button\"\n//             className=\"btn btn-block btn-primary\"\n//             onClick={this.handleGetbBalanceOfClick}\n//           >\n//             GetBalanceOf\n//           </button>\n\n//           <button\n//             type=\"button\"\n//             className=\"btn btn-block btn-primary\"\n//             onClick={this.handleBuyClaimDiTokenClick}\n//           >\n//             BuyToken\n//           </button>\n//         </header> */}\n//       </div>\n//     );\n//   }\n// }\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport ClaimDiCoin from \"./contracts/ClaimDiCoin.json\";\nimport { Drizzle, generateStore } from \"drizzle\";\nconsole.log(\"ClaimDiCoin\", ClaimDiCoin);\n\nconst options = {\n  contracts: [ClaimDiCoin]\n};\n// setup the drizzle store and drizzle\nconst drizzleStore = generateStore(options);\nconst drizzle = new Drizzle(options, drizzleStore);\n\nReactDOM.render(<App drizzle={drizzle} />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}